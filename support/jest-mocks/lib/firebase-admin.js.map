{"version":3,"sources":["../src/firebase-admin.ts"],"names":["snapData","data","jest","fn","exists","id","ref","createTime","undefined","updateTime","readTime","get","snap","docData","doc","limit","collectionGet","where","collectionRef","collection","runTransaction","mockResolvedValue","firestore","settings","FieldValue","serverTimestamp","mockReturnValue","TIMESTAMP","delete","VALUE","Timestamp","toDate","Date","toMillis","now","timestamp","fromDate","fromMillis","initializeApp","auth","verifySessionCookie","cookie","uid","Promise","reject","credential","cert","admin"],"mappings":"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","sourcesContent":["export const snapData = {\n  data: jest.fn(),\n  exists: false,\n  id: '',\n  ref: jest.fn(() => ({})),\n  createTime: undefined,\n  updateTime: undefined,\n  readTime: undefined,\n  get: jest.fn(),\n};\n\nexport const snap = jest.fn(() => snapData);\n\nexport const get = jest.fn(() => ({\n  snap,\n}));\n\nexport const docData = {\n  get,\n  id: 'mock_doc_id_acvg5tryuiadsfFG',\n};\n\nexport const doc = jest.fn(() => docData);\nexport const limit = jest.fn();\n\nexport const collectionGet: any = jest.fn();\nexport const where: any = jest.fn(() => ({ doc, where, limit }));\nexport const collectionRef = {\n  doc,\n  where,\n  limit,\n  get: collectionGet,\n};\n\nexport const collection: any = jest.fn(() => collectionRef);\n\nexport const runTransaction = jest.fn().mockResolvedValue(undefined);\n\nexport const firestore: any = jest.fn(() => ({\n  collection,\n  settings: jest.fn(),\n  runTransaction,\n  doc,\n}));\n\nfirestore.FieldValue = {\n  serverTimestamp: jest.fn().mockReturnValue({ TIMESTAMP: true }),\n  delete: jest.fn().mockReturnValue({ VALUE: true }),\n};\n\nfirestore.Timestamp = jest.fn(() => {\n  return {\n    toDate: jest.fn(() => new Date()),\n    toMillis: jest.fn(() => Date.now()),\n  };\n});\nclass Timestamp {}\nconst timestamp = new Timestamp();\n\nfirestore.Timestamp.now = jest.fn(() => timestamp);\nfirestore.Timestamp.fromDate = jest.fn(() => timestamp);\nfirestore.Timestamp.fromMillis = firestore.Timestamp.fromDate;\n\nconst initializeApp = jest.fn(() => ({\n  auth() {\n    return {\n      async verifySessionCookie(cookie: string) {\n        if (cookie === 'verified') {\n          return { uid: 'abc123' };\n        } else {\n          return Promise.reject('No session found');\n        }\n      },\n    };\n  },\n  credential: {\n    cert: jest.fn(),\n  },\n  firestore,\n}));\n\nconst admin = {\n  auth() {\n    return {\n      async verifySessionCookie(cookie: string) {\n        if (cookie === 'verified') {\n          return { uid: 'abc123' };\n        } else {\n          return Promise.reject('No session found');\n        }\n      },\n    };\n  },\n  credential: {\n    cert: jest.fn(),\n  },\n  firestore,\n  initializeApp,\n};\n\nexport default admin;\n"],"file":"firebase-admin.js"}